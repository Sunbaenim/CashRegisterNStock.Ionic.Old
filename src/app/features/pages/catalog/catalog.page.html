<ion-header>
  <ion-toolbar>
    <ion-icon name="person-sharp" (click)="userLevel = 'Admin'"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="catalog" #catalogPage>
    <ion-grid>
      <ion-row *ngFor="let category of catalog">
        <ion-row class="category" *ngIf="category.products.length !== 0">
          <ion-col (click)="userLevel === 'Admin' ? presentUpdateCategoryModal(category) : null">
            <span class="category-name">{{category.name}}</span>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col [appPress]=product class="product-container" *ngFor="let product of category.products" (click)="userLevel === 'Admin' ? presentUpdateProductModal(product) : addToCart(product)">
            <div class="product" [ngStyle]="{'background-image': 'url(' + baseUrl + product.imageURL + ')'}">
              <div class="overlay"></div>
              <div class="product-banner">
                  <span div class="product-name">{{product.name}}</span>
                  <br>
                  <span class="product-desc">{{product.description}}</span>
                  <span class="product-price">{{product.price}}â‚¬</span>
              </div>
            </div>
            <div class="circle" *ngIf="userLevel === 'Admin' ? true : existInCart(product)"
              [ngStyle]="{'background-color': product.stock < 30 && product.stock > 15 ? 'orange' : product.stock <= 15 ? 'red' : '#green' }">
              <p>{{userLevel === 'Admin' ? product.stock : getQuantity()}}</p>
            </div>
          </ion-col>
        </ion-row>
      </ion-row>
    </ion-grid>
  </div>

  <ion-fab *ngIf="userLevel === 'Admin'" (click)="presentProductAddModal()" horizontal="end" vertical="bottom" slot="fixed">
    <ion-fab-button color="danger">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>
